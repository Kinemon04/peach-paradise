<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Apyar Lawka - Premium Myanmar Video Experience" />
  <title>üí¶ Apyar Lawka | Video Stream</title>

  <style>
    /* Reset and Base */
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family: 'Poppins', Arial, sans-serif; background:#0f0f0f; color:#fff; line-height:1.6; }
    a { color: inherit; text-decoration: none; }

    /* Container */
    .container { max-width:1000px; margin:0 auto; padding:20px; }

    /* Header */
    header { text-align:center; margin-bottom:40px; }
    header h1 { font-size:40px; font-weight:700; background:linear-gradient(90deg,#ff007f,#ff66b3); -webkit-background-clip:text; -webkit-text-fill-color:transparent; letter-spacing:1px; }
    .tagline { color:#ff99cc; font-size:16px; margin-top:5px; }

    /* Ads */
    .ad-banner, .ad-slider, .ad-inpage { text-align:center; margin:20px 0; }

    /* Posts */
    .post { background:linear-gradient(145deg,#1a1a1a,#141414); border-radius:12px; padding:20px; margin-bottom:30px; box-shadow:0 0 20px rgba(255,0,128,0.2); transition:0.3s ease; }
    .post:hover { transform: translateY(-5px); box-shadow:0 0 25px rgba(255,0,128,0.4); }
    .post h2 { text-align:center; font-size:22px; color:#ff66b3; margin-bottom:15px; }
    iframe { width:100%; border:none; border-radius:10px; display:block; }

    @media (max-width:768px){ 
      iframe{ height:280px; }
      header h1 { font-size:32px; }
      .post h2 { font-size:18px; }
    }

    /* Pagination */
    .pagination { text-align:center; margin:30px 0; }
    .pagination button { background:linear-gradient(90deg,#ff007f,#ff66b3); color:white; border:none; padding:10px 24px; margin:5px; border-radius:25px; font-weight:600; cursor:pointer; box-shadow:0 0 10px rgba(255,0,128,0.3); transition:0.3s; }
    .pagination button:hover:not(:disabled) { transform:scale(1.05); box-shadow:0 0 20px rgba(255,0,128,0.5); }
    .pagination button:disabled { opacity:0.5; cursor:not-allowed; }
    .jump-controls { margin-top:15px; display:flex; justify-content:center; align-items:center; flex-wrap:wrap; gap:10px; }
    .jump-controls input { width:60px; padding:8px; border-radius:8px; border:1px solid #ff66b3; text-align:center; background-color:#1c1c1c; color:#fff; }
    .jump-controls button { background:linear-gradient(90deg,#ff3399,#ff66b3); color:white; border:none; padding:8px 16px; border-radius:20px; font-weight:600; cursor:pointer; transition:0.3s; }
    .jump-controls button:hover { transform:scale(1.05); box-shadow:0 0 15px rgba(255,0,128,0.4); }
    .toggle-view { background:#1c1c1c; border:1px solid #ff66b3; border-radius:20px; padding:8px 16px; color:#fff; cursor:pointer; transition:0.3s; font-weight:600; }
    .toggle-view:hover { background:linear-gradient(90deg,#ff007f,#ff66b3); color:#fff; box-shadow:0 0 12px rgba(255,0,128,0.4); }

    /* Footer */
    footer { text-align:center; color:#aaa; font-size:13px; margin-top:50px; padding:20px 0; border-top:1px solid #333; }

    /* Smooth Scroll */
    html { scroll-behavior:smooth; }
  </style>
</head>
<body>

<div class="container">
  <!-- Header -->
  <header>
    <h1>üí¶ ·Ä°·Äï·Äº·Ä¨·Äú·Ä±·Ä¨·ÄÄ üí¶</h1>
    <p class="tagline">·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏ ·Äô·Äº·Äî·Ä∫·Äô·Ä¨·Ä∑ Video Streaming Website</p>
  </header>

  <!-- Top Banner Ad -->
  <div class="ad-banner">
    <script>
      (function(svpy){
        var d = document,
            s = d.createElement('script'),
            l = d.scripts[d.scripts.length - 1];
        s.settings = svpy || {};
        s.src = "//grippingdelay.com/bNX/VIsWd.G/lb0WYVWWcm/neRmi9lubZ/UEl/kpPjTDYt3CMXDkIQw/Mbz_cHtwN/j/c/w/MajEAHzcOkA_";
        s.async = true;
        s.referrerPolicy = 'no-referrer-when-downgrade';
        l.parentNode.insertBefore(s, l);
      })({})
    </script>
  </div>

  <!-- Pagination Top -->
  <div class="pagination" id="paginationTop">
    <button onclick="changePage(-1)" id="prevTop">‚¨ÖÔ∏è Previous</button>
    <span id="pageInfoTop">Page 1</span>
    <button onclick="changePage(1)" id="nextTop">Next ‚û°Ô∏è</button>
    <div class="jump-controls">
      <input type="number" id="pageInputTop" min="1" placeholder="Page" />
      <button onclick="goToPage()">Go</button>
      <button class="toggle-view" id="toggleViewBtn">üëÅÔ∏è Watching: Oldest</button>
    </div>
  </div>

  <!-- Posts Container -->
  <div id="postsContainer"></div>

  <!-- Pagination Bottom -->
  <div class="pagination" id="paginationBottom">
    <button onclick="changePage(-1)" id="prevBottom">‚¨ÖÔ∏è Previous</button>
    <span id="pageInfoBottom">Page 1</span>
    <button onclick="changePage(1)" id="nextBottom">Next ‚û°Ô∏è</button>
    <div class="jump-controls">
      <input type="number" id="pageInputBottom" min="1" placeholder="Page" />
      <button onclick="goToPage()">Go</button>
      <button class="toggle-view" id="toggleViewBtnBottom">üëÅÔ∏è Watching: Oldest</button>
    </div>
  </div>

  <!-- In-Page Push Ad -->
  <div class="ad-inpage">
    <script>
      (function(ugdz){
        var d = document,
            s = d.createElement('script'),
            l = d.scripts[d.scripts.length - 1];
        s.settings = ugdz || {};
        s.src = "//grippingdelay.com/bjX.VCs/dqGal/0DYlWyck/NeCmJ9VuBZ_UzlckoPDTKYj3/MsD-I/wnNeDNYDtsNRj/cWwJMzj/AN0zN/wC";
        s.async = true;
        s.referrerPolicy = 'no-referrer-when-downgrade';
        l.parentNode.insertBefore(s, l);
      })({})
    </script>
  </div>

  <!-- Bottom Video Slider Ad -->
  <div class="ad-slider">
    <iframe src="https://pure-college.com/bO3eV.0/PR3/p/vsbmmaV/JMZ/Dm0i2SNwzXAnykMSD/Q-wcL/TzYk3QM/DBIBwgN_DwEt" width="100%" height="120" frameborder="0" scrolling="no" allowfullscreen loading="lazy"></iframe>
  </div>

  <!-- Footer -->
  <footer>
    <p>¬© 2025 Apyar Lawka ‚Äî All Rights Reserved.</p>
  </footer>
</div>

<script>
const postsContainer = document.getElementById("postsContainer");
const postsPerPage = 10;
let currentPage = 1;
let postsData = [];
let viewingMode = "oldest";

// Fetch posts from JSON
async function fetchPosts(){
  try{
    const res = await fetch("posts.json");
    postsData = await res.json();
    loadPosts();
  } catch(err){
    postsContainer.innerHTML="<p style='color:#f88;'>‚ö†Ô∏è Failed to load videos.</p>";
  }
}

// Create each video post with lazy loading
function createPost(post){
  return `
    <div class="post">
      <h2>${post.title}</h2>
      <iframe src="${post.videoEmbed}" allowfullscreen scrolling="no" frameborder="0" loading="lazy"></iframe>
    </div>
  `;
}

// Load posts based on pagination
function loadPosts(){
  postsContainer.innerHTML="";
  const totalPosts = postsData.length;
  const totalPages = Math.ceil(totalPosts/postsPerPage);
  let start = (currentPage-1)*postsPerPage;
  let end = Math.min(start+postsPerPage,totalPosts);

  for(let i=start;i<end;i++){
    postsContainer.innerHTML+=createPost(postsData[i]);
  }

  updatePagination(totalPosts);
}

// Update pagination buttons
function updatePagination(total){
  const totalPages = Math.ceil(total/postsPerPage);
  document.getElementById("pageInfoTop").textContent=`Page ${currentPage} of ${totalPages}`;
  document.getElementById("pageInfoBottom").textContent=`Page ${currentPage} of ${totalPages}`;
  document.getElementById("prevTop").disabled = currentPage===1;
  document.getElementById("prevBottom").disabled = currentPage===1;
  document.getElementById("nextTop").disabled = currentPage===totalPages;
  document.getElementById("nextBottom").disabled = currentPage===totalPages;
}

// Change page
function changePage(direction){
  const totalPages = Math.ceil(postsData.length/postsPerPage);
  currentPage += direction;
  if(currentPage<1) currentPage=1;
  if(currentPage>totalPages) currentPage=totalPages;
  loadPosts();
  window.scrollTo({top:0, behavior:"smooth"});
}

// Go to specific page
function goToPage(){
  const totalPages = Math.ceil(postsData.length/postsPerPage);
  const topInput = document.getElementById("pageInputTop").value;
  const bottomInput = document.getElementById("pageInputBottom").value;
  const targetPage = parseInt(topInput||bottomInput);
  if(!isNaN(targetPage) && targetPage>=1 && targetPage<=totalPages){
    currentPage = targetPage;
    loadPosts();
    window.scrollTo({top:0, behavior:"smooth"});
  } else { alert("‚ùå Invalid page number!"); }
}

// Toggle view mode
function toggleView(){
  const totalPages = Math.ceil(postsData.length/postsPerPage);
  if(viewingMode==="oldest"){ viewingMode="latest"; currentPage = totalPages; }
  else { viewingMode="oldest"; currentPage = 1; }
  updateViewButtons();
  loadPosts();
  window.scrollTo({top:0, behavior:"smooth"});
}

// Update view toggle button labels
function updateViewButtons(){
  const label = viewingMode==="oldest" ? "üëÅÔ∏è Watching: Oldest" : "üëÅÔ∏è Watching: Latest";
  document.getElementById("toggleViewBtn").textContent = label;
  document.getElementById("toggleViewBtnBottom").textContent = label;
}

// Event listeners
document.addEventListener("DOMContentLoaded",()=>{
  document.getElementById("toggleViewBtn").addEventListener("click", toggleView);
  document.getElementById("toggleViewBtnBottom").addEventListener("click", toggleView);
  fetchPosts();
});
</script>
</body>
</html>
